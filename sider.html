<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>API 密钥检测器</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>API 密钥检测器</h1>

    <!-- 添加导航菜单 -->
    <nav class="nav-menu">
      <a href="#openai-section">OpenAI</a>
      <a href="#claude-section">Claude</a>
      <a href="#gemini-section">Gemini</a>
      <a href="#deepseek-section">Deepseek</a>
      <a href="#groq-section">Groq</a>
      <a href="#siliconflow-section">Siliconflow</a>
      <a href="#xai-section">xAI</a>
      <a href="#custom-section">自定义接口</a>
    </nav>

    <form id="apiKeyForm">
      <!-- OpenAI 相关 -->
      <div class="section" id="openai-section">
        <div class="section-title">OpenAI API</div>
        <label for="openaiKey">API 密钥：</label>
        <input type="text" id="openaiKey" name="openaiKey" />
      </div>

      <!-- Claude 相关 -->
      <div class="section" id="claude-section">
        <div class="section-title">Claude API</div>
        <label for="claudeKey">API 密钥：</label>
        <input type="text" id="claudeKey" name="claudeKey" />
      </div>

      <div class="section" id="gemini-section">
        <div class="section-title">Gemini API</div>
        <label for="geminiKey">Gemini API 密钥：</label>
        <input type="text" id="geminiKey" name="geminiKey" />
      </div>

      <div class="section" id="deepseek-section">
        <div class="section-title">Deepseek API</div>
        <label for="deepseekKey">Deepseek API 密钥：</label>
        <input type="text" id="deepseekKey" name="deepseekKey" />
      </div>

      <div class="section" id="groq-section">
        <div class="section-title">Groq API</div>
        <label for="groqKey">Groq API 密钥：</label>
        <input type="text" id="groqKey" name="groqKey" />
      </div>

      <div class="section" id="siliconflow-section">
        <div class="section-title">Siliconflow API</div>
        <label for="siliconflowKey">Siliconflow API 密钥：</label>
        <input type="text" id="siliconflowKey" name="siliconflowKey" />
      </div>

      <div class="section" id="xai-section">
        <div class="section-title">xAI API</div>
        <label for="xaiKey">xAI API 密钥：</label>
        <input type="text" id="xaiKey" name="xaiKey" />
      </div>

      <!-- 自定义接口配置 -->
      <div class="section" id="custom-section">
        <div class="section-title">自定义 OpenAI 兼容接口</div>
        <label for="customEndpoint">接口地址：</label>
        <input
          type="text"
          id="customEndpoint"
          name="customEndpoint"
          placeholder="例如: https://api.example.com"
        />
        <div id="urlPreview"></div>

        <label for="customApiKey">API 密钥：</label>
        <input type="text" id="customApiKey" name="customApiKey" />

        <label for="modelSelect">选择模型：</label>
        <select id="modelSelect">
          <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
        </select>

        <!-- 添加模型选择区域 -->
        <div id="modelCheckboxes" class="model-checkboxes">
          <!-- 添加全选/取消全选按钮 -->
          <div class="model-select-all">
            <button type="button" id="selectAllModels">全选</button>
            <button type="button" id="deselectAllModels">取消全选</button>
          </div>
          <!-- 这里会通过 JS 动态添加复选框 -->
        </div>
        <div class="model-action-buttons">
          <button type="button" id="copyModelsBtn" class="copy-models-btn">
            复制选中模型
          </button>
          <button type="button" id="testModelsBtn" class="test-models-btn">
            测试选中模型
          </button>
        </div>
      </div>

      <!-- 固定按钮组 -->
      <div class="action-buttons">
        <button type="button" id="autoFillButton" title="自动识别">🔄</button>
        <button type="button" id="checkButton" title="检测密钥">🔍</button>
        <button type="button" id="checkBalanceBtn" title="查询余额">💰</button>
        <button type="button" id="clearButton" title="清空输入">🗑️</button>
        <button type="button" id="historyButton" title="历史记录">📋</button>
        <button type="button" id="configButton" title="系统配置">⚙️</button>
      </div>
    </form>

    <div id="result"></div>
    <div id="history"></div>
    
    <!-- 配置弹出层 -->
    <div class="config-overlay"></div>
    <div class="config-popup">
      <div class="config-popup-header">
        <h2>系统配置</h2>
        <button class="config-popup-close">&times;</button>
      </div>
      
      <div class="config-group">
        <h3>默认测试模型配置</h3>
        <div class="config-item">
          <label for="defaultOpenAIModel">OpenAI 默认模型：</label>
          <input type="text" id="defaultOpenAIModel" name="defaultOpenAIModel" placeholder="例如: gpt-4o" />
        </div>
        <div class="config-item">
          <label for="defaultClaudeModel">Claude 默认模型：</label>
          <input type="text" id="defaultClaudeModel" name="defaultClaudeModel" placeholder="例如: claude-3-5-sonnet-20241022" />
        </div>
        <div class="config-item">
          <label for="defaultGeminiModel">Gemini 默认模型：</label>
          <input type="text" id="defaultGeminiModel" name="defaultGeminiModel" placeholder="例如: gemini-1.5-flash" />
        </div>
        <div class="config-item">
          <label for="defaultDeepseekModel">Deepseek 默认模型：</label>
          <input type="text" id="defaultDeepseekModel" name="defaultDeepseekModel" placeholder="例如: deepseek-chat" />
        </div>
        <div class="config-item">
          <label for="defaultGroqModel">Groq 默认模型：</label>
          <input type="text" id="defaultGroqModel" name="defaultGroqModel" placeholder="例如: mixtral-8x7b-32768" />
        </div>
        <div class="config-item">
          <label for="defaultSiliconflowModel">Siliconflow 默认模型：</label>
          <input type="text" id="defaultSiliconflowModel" name="defaultSiliconflowModel" placeholder="例如: Qwen/Qwen2.5-72B-Instruct" />
        </div>
        <div class="config-item">
          <label for="defaultXAIModel">xAI 默认模型：</label>
          <input type="text" id="defaultXAIModel" name="defaultXAIModel" placeholder="例如: grok-beta" />
        </div>
      </div>
      
      <div class="config-group">
        <h3>NewAPI 系统</h3>
        <div class="config-item">
          <label for="newAPIUrl">系统访问地址：</label>
          <input type="text" id="newAPIUrl" name="newAPIUrl" placeholder="输入 NewAPI 系统访问地址" />
        </div>
        <div class="config-item">
          <label for="newAPIToken">系统访问令牌：</label>
          <input type="text" id="newAPIToken" name="newAPIToken" placeholder="输入 NewAPI 系统访问令牌" />
        </div>
      </div>
      
      <div class="config-actions">
        <button type="button" id="saveConfigBtn">保存配置</button>
        <button type="button" id="resetConfigBtn">重置配置</button>
      </div>
    </div>
    
    <!-- 添加滚动按钮 -->
    <div class="scroll-buttons">
      <button id="scrollTopBtn" title="回到顶部">↑</button>
      <button id="scrollBottomBtn" title="滚动到底部">↓</button>
    </div>

    <div class="copyright">
      <div class="author-info">
        <a href="https://linux.do/u/snaily" target="_blank">
          <img
            src="https://linux.do/user_avatar/linux.do/snaily/288/306510_2.gif"
            alt="snaily"
            class="avatar"
          />
        </a>
        <div class="text-info">
          <div>
            作者：<a href="https://linux.do/u/snaily" target="_blank">snaily</a>
          </div>
          <div>
            项目：<a
              href="https://github.com/snailyp/apichecker"
              target="_blank"
              >API Checker</a
            >
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/js/app.js"></script>
  </body>
</html>
